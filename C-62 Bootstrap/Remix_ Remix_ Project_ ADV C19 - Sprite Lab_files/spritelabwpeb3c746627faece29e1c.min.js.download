(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{1899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(28),i=n(26),u=n(1404),l=n(186),o=n(28),a=n(385),s=n(376),f=n(653),p=r(n(3)),d=r(n(1403));function r(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(n){var r=(0,i.getStore)().getState().animationList;return r&&0!==r.orderedKeys.length?r.orderedKeys.filter(function(e){var t=(r.propsByKey[e].categories||[]).includes("backgrounds");return n?t:!t}).map(function(e){var t=r.propsByKey[e];return t.sourceUrl?[t.sourceUrl,'"'.concat(t.name,'"')]:[(0,a.animationSourceUrl)(e,t,(0,i.getStore)().getState().pageConstants.channelId),'"'.concat(t.name,'"')]}):(console.warn("No sprites available"),[["sprites missing","null"]])}function g(){return y(!1)}function h(){return y(!0)}var b=["#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff","#ff8800","#8800ff","#00ff88"],v={sprites:g,customInputTypes:{locationPicker:{addInput:function(e,t,n,r){r.appendTitle("".concat(n.label,"(0, 0)"),"".concat(n.name,"_LABEL"));var o=r.titleRow[r.titleRow.length-1],i=document.createElementNS(c.SVG_NS,"tspan");i.style.fontFamily="FontAwesome",i.textContent="ï‰¶";var a=new Blockly.FieldButton(i,function(e){(0,u.getLocation)(function(e){e&&a.setValue(JSON.stringify(e))})},t.getHexColour(),function(e){if(e)try{var t=JSON.parse(e);o.setText("".concat(n.label,"(").concat(t.x,", ").concat(l.APP_HEIGHT-t.y,")"))}catch(e){}});r.appendTitle(a,n.name)},generateCode:function(e,t){return"(".concat(e.getTitleValue(t.name),")")}},locationVariableDropdown:{addInput:function(e,n,r,t){n.getVars=function(){return m({},Blockly.BlockValueType.LOCATION,[n.getTitleValue(r.name)])},n.renameVar=function(e,t){Blockly.Names.equals(e,n.getTitleValue(r.name))&&n.setTitleValue(t,r.name)},n.removeVar=function(e){Blockly.Names.equals(e,n.getTitleValue(r.name))&&n.dispose(!0,!0)},t.appendTitle(r.label).appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(new Blockly.FieldVariable(Blockly.Msg.VARIABLES_SET_ITEM,null,null,Blockly.BlockValueType.LOCATION,null),r.name).appendTitle(Blockly.Msg.VARIABLES_GET_TAIL)},generateCode:function(e,t){return Blockly.JavaScript.translateVarName(e.getTitleValue(t.name))}},soundPicker:{addInput:function(e,t,n,r){var o=function(e){t.setTitleValue(e,n.name)};r.appendTitle(n.label).appendTitle(new Blockly.FieldDropdown([["Choose","Choose"]],function(){dashboard.assets.showAssetManager(o,"audio",null,{libraryOnly:!0})}),n.name)},generateCode:function(e,t){return"'".concat(e.getTitleValue(t.name),"'")}},costumePicker:{addInput:function(e,t,n,r){var o;(0,i.getStore)().getState().pageConstants&&(0,i.getStore)().getState().pageConstants.showAnimationMode&&(o=[{text:p.default.draw(),action:function(){(0,i.getStore)().dispatch((0,s.changeInterfaceMode)(l.P5LabInterfaceMode.ANIMATION,!0))}},{text:p.default.more(),action:function(){(0,i.getStore)().dispatch((0,f.show)(f.Goal.NEW_ANIMATION,!0))}}]),r.appendTitle(n.label).appendTitle(new Blockly.FieldImageDropdown(g,32,32,o),n.name)},generateCode:function(e,t){return e.getTitleValue(t.name)}},backgroundPicker:{addInput:function(e,t,n,r){var o;(0,i.getStore)().getState().pageConstants&&(0,i.getStore)().getState().pageConstants.showAnimationMode&&(o=[{text:p.default.more(),action:function(){(0,i.getStore)().dispatch((0,f.showBackground)(f.Goal.NEW_ANIMATION))}}]),r.appendTitle(n.label).appendTitle(new Blockly.FieldImageDropdown(h,40,40,o),n.name)},generateCode:function(e,t){return e.getTitleValue(t.name)}},spritePointer:{addInput:function(e,t,n,r){if(0===Object.keys(d.default).length)t.shortString=" ",t.longString=" ";else switch(t.type){case"gamelab_clickedSpritePointer":t.shortString=d.default.clicked(),t.longString=d.default.clickedSprite();break;case"gamelab_subjectSpritePointer":t.shortString=d.default.subject(),t.longString=d.default.subjectSprite();break;case"gamelab_objectSpritePointer":t.shortString=d.default.object(),t.longString=d.default.objectSprite();break;default:t.shortString="",t.longString=""}t.thumbnailSize=32,r.appendTitle(t.longString).appendTitle(new Blockly.FieldImage("",1,t.thumbnailSize),n.name)},generateCode:function(e,t){switch(e.type){case"gamelab_clickedSpritePointer":return"{id: extraArgs.clickedSprite}";case"gamelab_subjectSpritePointer":return"{id: extraArgs.subjectSprite}";case"gamelab_objectSpritePointer":return"{id: extraArgs.objectSprite}";default:return}}},spritePicker:{addInput:function(e,n,r,t){n.getVars=function(){return m({},Blockly.BlockValueType.SPRITE,[n.getTitleValue(r.name)])},n.renameVar=function(e,t){Blockly.Names.equals(e,n.getTitleValue(r.name))&&n.setTitleValue(t,r.name)},n.removeVar=function(e){Blockly.Names.equals(e,n.getTitleValue(r.name))&&n.dispose(!0,!0)},n.superSetTitleValue=n.setTitleValue,n.setTitleValue=function(e,t){t===r.name&&n.blockSpace.isFlyout&&(e=Blockly.Variables.generateUniqueName(e)),n.superSetTitleValue(e,t)},t.appendTitle(r.label).appendTitle(new Blockly.FieldVariable(null,null,null,Blockly.BlockValueType.SPRITE,p.default.sprite()),r.name)},generateCode:function(e,t){return"{name: '".concat(e.getTitleValue(t.name),"'}")}},limitedColourPicker:{addInput:function(e,t,n,r){var o={colours:b,columns:3};r.appendTitle(n.label).appendTitle(new Blockly.FieldColour("#ff0000",void 0,o),"VAL")},generateCode:function(e,t){return"'".concat(e.getTitleValue(t.name),"'")}},variableNamePicker:{addInputRow:function(e,t,n){return t.appendValueInput(n.name)},generateCode:function(e,t){var n=e.getInput(t.name);if(n){var r=n.connection.targetBlock();if(r&&"variables_get"===r.type)return"'".concat(Blockly.JavaScript.blockToCode(r)[0],"'")}return""}}},install:function(e,t){var n=e.Generator.get("JavaScript"),r=Blockly.behaviorEditor=new Blockly.FunctionEditor({FUNCTION_HEADER:p.default.behaviorEditorHeader(),FUNCTION_NAME_LABEL:p.default.behaviorEditorLabel(),FUNCTION_DESCRIPTION_LABEL:p.default.behaviorEditorDescription()},"behavior_definition",m({},Blockly.BlockValueType.SPRITE,"sprite_parameter_get"),!1,[Blockly.BlockValueType.NUMBER,Blockly.BlockValueType.STRING,Blockly.BlockValueType.COLOUR,Blockly.BlockValueType.BOOLEAN,Blockly.BlockValueType.SPRITE,Blockly.BlockValueType.LOCATION]);Blockly.Blocks.sprite_variables_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.appendDummyInput().appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(Blockly.disableVariableEditing?e:new Blockly.FieldVariable(Blockly.Msg.VARIABLES_SET_ITEM,null,null,Blockly.BlockValueType.SPRITE,p.default.sprite()),"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL),this.setStrictOutput(!0,Blockly.BlockValueType.SPRITE),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},getVars:function(){return Blockly.Variables.getVars.bind(this)(Blockly.BlockValueType.SPRITE)},renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},removeVar:Blockly.Blocks.variables_get.removeVar},n.sprite_variables_get=function(){return["{name: '".concat(this.getTitleValue("VAR"),"'}"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.Variables.registerGetter(Blockly.BlockValueType.SPRITE,"sprite_variables_get"),Blockly.Blocks.sprite_parameter_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.appendDummyInput().appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(e,"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL),this.setStrictOutput(!0,Blockly.BlockValueType.SPRITE),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},renameVar:function(e,t){r.isOpen()&&(r.renameParameter(e,t),r.refreshParamsEverywhere())},removeVar:Blockly.Blocks.variables_get.removeVar},n.sprite_parameter_get=n.variables_get,Blockly.Blocks.gamelab_behavior_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.setHSV(136,.84,.8);var t=this.appendDummyInput().appendTitle(e,"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL),n=Blockly.useModalFunctionEditor;if(!appOptions.level.toolbox||appOptions.readonlyWorkspace||Blockly.hasCategories||(n=!1),n){var r=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.bindEvent_(r.fieldGroup_,"mousedown",this,this.openEditor),t.appendTitle(r)}this.setStrictOutput(!0,Blockly.BlockValueType.BEHAVIOR),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP),this.currentParameterNames_=[]},openEditor:function(e){e.stopPropagation(),r.openEditorForFunction(this,this.getTitleValue("VAR"))},getVars:function(){return Blockly.Variables.getVars.bind(this)(Blockly.BlockValueType.BEHAVIOR)},renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},getCallName:function(){return this.getTitleValue("VAR")},setProcedureParameters:function(e,t,n){Blockly.Blocks.procedures_callnoreturn.setProcedureParameters.call(this,e.slice(1),t&&t.slice(1),n&&n.slice(1))},mutationToDom:function(){for(var e=document.createElement("mutation"),t=0;t<this.currentParameterNames_.length;t++){var n=document.createElement("arg");n.setAttribute("name",this.currentParameterNames_[t]),this.currentParameterTypes_[t]&&n.setAttribute("type",this.currentParameterTypes_[t]),e.appendChild(n)}return e},domToMutation:function(e){this.currentParameterNames_=[];var t=!0,n=!(this.currentParameterTypes_=[]),r=void 0;try{for(var o,i=e.childNodes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;"arg"===a.nodeName.toLowerCase()&&(this.currentParameterNames_.push(a.getAttribute("name")),this.currentParameterTypes_.push(a.getAttribute("type")))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.setProcedureParameters([null].concat(this.currentParameterNames_),[null].concat(this.currentParameterNames_),[null].concat(this.currentParameterTypes_))}},n.gamelab_behavior_get=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Procedures.NAME_TYPE),t=[],n=0;n<this.currentParameterNames_.length;n++)t[n]=Blockly.JavaScript.valueToCode(this,"ARG"+n,Blockly.JavaScript.ORDER_COMMA)||"null";return["new Behavior(".concat(e,", [").concat(t.join(", "),"])"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.Blocks.behavior_definition=Blockly.Block.createProcedureDefinitionBlock({initPostScript:function(e){e.setHSV(136,.84,.8),e.parameterNames_=[p.default.thisSprite()],e.parameterTypes_=[Blockly.BlockValueType.SPRITE]},overrides:{getVars:function(e){return{Behavior:[this.getTitleValue("NAME")]}},callType_:"gamelab_behavior_get"}}),n.behavior_definition=n.procedures_defnoreturn,Blockly.Procedures.DEFINITION_BLOCK_TYPES.push("behavior_definition"),Blockly.Variables.registerGetter(Blockly.BlockValueType.BEHAVIOR,"gamelab_behavior_get"),t&&t.level.editBlocks===o.TOOLBOX_EDIT_MODE||Blockly.Flyout.configure(Blockly.BlockValueType.BEHAVIOR,{initialize:function(e,t){r&&!r.isOpen()&&e.addButtonToFlyout_(t,p.default.createBlocklyBehavior(),r.openWithNewFunction.bind(r))},addDefaultVar:!1})}};t.default=v,e.exports=t.default},3385:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var o={addBehavior:function(e,t){r.getSpriteArray(e).forEach(function(e){return r.addBehavior(e,t)})},Behavior:function(e){return{func:e,name:e.funcName}},draggableFunc:function(n){return function(e){var t=r.getSpriteArray(e)[0];n.mousePressedOver(t)&&!t.dragging&&(t.dragging=!0,t.xOffset=t.x-n.World.mouseX,t.yOffset=t.y-n.World.mouseY),t.dragging&&(t.x=n.World.mouseX+t.xOffset,t.y=n.World.mouseY+t.yOffset),n.mouseWentUp()&&(t.dragging=!1)}},removeAllBehaviors:function(e){r.getSpriteArray(e).forEach(function(e){return r.removeAllBehaviors(e)})},removeBehavior:function(e,t){r.getSpriteArray(e).forEach(function(e){return r.removeBehavior(e,t)})}};t.commands=o},3608:function(e,t,n){n(108),n(47),e.exports=n(3609)},3609:function(e,t,n){"use strict";var r=i(n(1465)),o=i(n(3610));function i(e){return e&&e.__esModule?e:{default:e}}(0,r.default)().then(o.default)},3610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.skinsModule=c.default,e.blocksModule=a.default;var t=new i.default;return e.getAnimationList=t.getSerializedAnimationList.bind(t),e.getGeneratedProperties=t.getGeneratedProperties.bind(t),t.injectStudioApp((0,o.singleton)()),(0,r.default)(t,u.default,e),t};var r=l(n(1813)),o=n(196),i=l(n(3611)),a=l(n(1899)),c=l(n(2650)),u=l(n(3384));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},3611:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=p(n(2302)),o=n(3612),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562)),c=p(n(217)),u=n(26),l=n(1559),s=n(1561);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){r.default.call(this),this.commands=o.commands};d.prototype=Object.create(r.default.prototype),(e.exports=d).prototype.preview=function(){if(!(0,u.getStore)().getState().runState.isRunning&&!this.p5Wrapper.p5decrementPreload)if(i.reset(),(0,u.getStore)().dispatch((0,l.clearConsole)()),c.default.getSingleton().muteURLs(),this.p5Wrapper.p5&&this.JSInterpreter){if(!this.areAnimationsReady_())return;this.p5Wrapper.p5.allSprites.removeSprites(),this.JSInterpreter.deinitialize(),this.initInterpreter(!1),this.onP5Setup(),this.p5Wrapper.p5.redraw()}else this.p5Wrapper.startExecution(),this.p5Wrapper.setLoop(!1)},d.prototype.reset=function(){r.default.prototype.reset.call(this),i.reset(),(0,u.getStore)().dispatch((0,s.clearQuestions)()),this.preview()}},3612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var r=n(3613),o=n(3385),i=n(3614),a=n(3615),c=n(3616),u=n(3617),l=n(3618),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={executeDrawLoopAndCallbacks:function(){(function(){"string"==typeof s.background?this.background(s.background):this.background("white"),"object"===p(s.background)&&(s.background.resize(400,400),this.image(s.background))}).apply(this),s.runBehaviors(),s.runEvents(this),this.drawSprites(),function(){this.fill("black"),this.stroke("white"),this.strokeWeight(3),this.textAlign(this.CENTER,this.CENTER),this.textSize(50),this.text(s.title,0,0,400,200),this.textSize(35),this.text(s.subtitle,0,200,400,200)}.apply(this)},bounceOff:function(e,t){r.commands.bounceOff(e,t)},changePropBy:function(e,t,n){r.commands.changePropBy(e,t,n)},edgesDisplace:function(e){r.commands.edgesDisplace.apply(this,[e])},isCostumeEqual:function(e,t){return r.commands.isCostumeEqual(e,t)},isKeyPressed:function(e){return r.commands.isKeyPressed.apply(this,[e])},isTouchingEdges:function(e){return r.commands.isTouchingEdges.apply(this,[e])},isTouchingSprite:function(e,t){return r.commands.isTouchingSprite(e,t)},jumpTo:function(e,t){r.commands.jumpTo(e,t)},mirrorSprite:function(e,t){r.commands.mirrorSprite(e,t)},moveInDirection:function(e,t,n){r.commands.moveInDirection(e,t,n)},moveForward:function(e,t){r.commands.moveForward(e,t)},moveToward:function(e,t,n){r.commands.moveToward(e,t,n)},removeTint:function(e){r.commands.setProp(e,"tint",null)},setProp:function(e,t,n){r.commands.setProp.apply(this,[e,t,n])},setQuestion:function(e,t,n){u.commands.setQuestion(e,t,n)},setTint:function(e,t){r.commands.setProp(e,"tint",t)},turn:function(e,t,n){r.commands.turn(e,t,n)},addBehaviorSimple:function(e,t){o.commands.addBehavior(e,t)},Behavior:function(e){return o.commands.Behavior(e)},draggableFunc:function(e){return o.commands.draggableFunc(this)},removeAllBehaviors:function(e){o.commands.removeAllBehaviors(e)},removeBehaviorSimple:function(e,t){o.commands.removeBehavior(e,t)},atTime:function(e,t,n){i.commands.atTime(e,t,n)},checkTouching:function(e,t,n,r){i.commands.checkTouching(e,t,n,r)},keyPressed:function(e,t,n){i.commands.keyPressed(e,t,n)},repeatForever:function(e){i.commands.repeatForever(e)},spriteClicked:function(e,t,n){i.commands.spriteClicked(e,t,n)},whenQuestionAnswered:function(e,t){i.commands.whenQuestionAnswered(e,t)},locationAt:function(e,t){return a.commands.locationAt(e,t)},locationModifier:function(e,t,n){return a.commands.locationModifier(e,t,n)},locationMouse:function(){return a.commands.locationMouse.apply(this)},locationOf:function(e){return a.commands.locationOf(e)},randomLocation:function(){return a.commands.randomLocation()},countByAnimation:function(e){return c.commands.countByAnimation(e)},createNewSprite:function(e,t,n){return c.commands.makeSprite.apply(this,[{name:e.name,animation:t,location:n}])},destroy:function(e){c.commands.destroy(e)},displace:function(e,t){c.commands.displace(e,t)},getProp:function(e,t){return c.commands.getProp(e,t)},getThisSprite:function(e,t){return c.commands.getThisSprite(e,t)},makeNewSpriteAnon:function(e,t){c.commands.makeSprite.apply(this,[{animation:e,location:t}])},makeNumSprites:function(e,t){for(var n=0;n<e;n++)c.commands.makeSprite.apply(this,[{animation:t,location:a.commands.randomLocation()}])},setAnimation:function(e,t){c.commands.setAnimation(e,t)},comment:function(e){u.commands.comment(e)},getTime:function(e){return u.commands.getTime.apply(this,[e])},hideTitleScreen:function(){u.commands.hideTitleScreen()},printText:function(e){u.commands.printText(e)},setBackground:function(e){u.commands.setBackground(e)},setBackgroundImage:function(e){u.commands.setBackgroundImage.apply(this,[e])},showTitleScreen:function(e,t){u.commands.showTitleScreen(e,t)},getAnimationsInUse:function(){return l.commands.getAnimationsInUse()},getBackground:function(){return l.commands.getBackground()},getNumBehaviorsForAnimation:function(e){return l.commands.getNumBehaviorsForAnimation(e)},getNumBehaviorsForSpriteId:function(e){return l.commands.getNumBehaviorsForSpriteId(e)},getBehaviorsForSpriteId:function(e){return l.commands.getBehaviorsForSpriteId(e)},getSpriteIdsInUse:function(){return l.commands.getSpriteIdsInUse()}};t.commands=d},3613:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562)),u=n(3385);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var r={bounceOff:function(e,t){var n=c.getSpriteArray(e),r=c.getSpriteArray(t);n.forEach(function(t){r.forEach(function(e){t.isTouching(e)&&(t.direction=(t.direction+180)%360,e.direction=(e.direction+180)%360,t.x+=1*Math.cos(t.direction*Math.PI/180),t.y+=1*Math.sin(t.direction*Math.PI/180),e.x+=1*Math.cos(e.direction*Math.PI/180),e.y+=1*Math.sin(e.direction*Math.PI/180))})})},changePropBy:function(e,t,n){if(void 0!==n&&void 0!==t){var r=c.getSpriteArray(e),o={direction:function(e){return e.direction=(e.direction+n)%360},scale:function(e){e.setScale(e.getScale()+n/100),e.scale<0&&(e.scale=0)},y:function(e){return e.y-=n}};r.forEach(function(e){o[t]?o[t](e):e[t]+=n})}},edgesDisplace:function(e){var t=this;this.edges||this.createEdgeSprites(),c.getSpriteArray(e).forEach(function(e){return t.edges.displace(e)})},isCostumeEqual:function(e,t){var n=c.getSpriteArray(e);return 0!==n.length&&n.every(function(e){return e.getAnimationLabel()===t})},isKeyPressed:function(e){return this.keyDown(e)},isTouchingEdges:function(e){var t=this;this.edges||this.createEdgeSprites();var n=c.getSpriteArray(e),r=!1;return n.forEach(function(e){e.isTouching(t.edges)&&(r=!0)}),r},isTouchingSprite:function(e,t){var n=c.getSpriteArray(e),r=c.getSpriteArray(t),o=!1;return n.forEach(function(t){r.forEach(function(e){t.isTouching(e)&&(o=!0)})}),o},jumpTo:function(e,t){t&&c.getSpriteArray(e).forEach(function(e){e.x=t.x,e.y=t.y})},mirrorSprite:function(e,t){c.getSpriteArray(e).forEach(function(e){"right"===t?e.mirrorX(1):e.mirrorX(-1)})},moveForward:function(e,n){c.getSpriteArray(e).forEach(function(e){e.direction||(e.direction=0);var t=e.direction%360;e.x+=n*Math.cos(t*Math.PI/180),e.y+=n*Math.sin(t*Math.PI/180)})},moveInDirection:function(e,t,n){var r=c.getSpriteArray(e),o={North:function(e){return e.y-=t},East:function(e){return e.x+=t},South:function(e){return e.y+=t},West:function(e){return e.x-=t}};o[n]?r.forEach(function(e){o[n](e)}):console.error("invalid direction: "+n)},moveToward:function(e,o,i){c.getSpriteArray(e).forEach(function(e){if(e&&i){var t=Math.atan2(i.y-e.y,i.x-e.x);if(!isNaN(t)){var n=Math.sin(t)*o,r=Math.cos(t)*o;e.x+=r,e.y+=n}}})},setProp:function(e,t,n){var r=this;if(void 0!==n){var o=c.getSpriteArray(e),i={direction:function(e){return e.direction=n%360},draggable:function(e){n?c.addBehavior(e,{func:u.commands.draggableFunc(r),name:"draggable"}):c.removeBehavior(e,{func:u.commands.draggableFunc(r),name:"draggable"})},height:function(e){return e.height=e.animation.getHeight()*n/100},scale:function(e){return e.setScale(n/100)},width:function(e){return e.width=e.animation.getWidth()*n/100},y:function(e){return e.y=400-n}};o.forEach(function(e){i[t]?i[t](e):e[t]=n})}},turn:function(e,t,n){t&&c.getSpriteArray(e).forEach(function(e){"right"===n?e.rotation+=t:e.rotation-=t})}};t.commands=r},3614:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var r={atTime:function(e,t,n){o.addEvent("atTime",{n:e,unit:t},n)},checkTouching:function(e,t,n,r){"when"!==e&&"while"!==e||o.addEvent(e+"touch",{sprite1:t,sprite2:n},r)},keyPressed:function(e,t,n){"when"!==e&&"while"!==e||o.addEvent(e+"press",{key:t},n)},repeatForever:function(e){o.addEvent("repeatForever",{},e)},spriteClicked:function(e,t,n){"when"!==e&&"while"!==e||o.addEvent(e+"click",{sprite:t},n)},whenQuestionAnswered:function(e,t){o.registerQuestionAnswerCallback(e,t)}};t.commands=r},3615:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var o={locationAt:function(e,t){return{x:e,y:400-t}},locationModifier:function(t,e,n){var r={North:function(e){return{x:e.x,y:e.y-t}},East:function(e){return{x:e.x+t,y:e.y}},South:function(e){return{x:e.x,y:e.y+t}},West:function(e){return{x:e.x-t,y:e.y}}};if(void 0!==n&&void 0!==n.x&&void 0!==n.y&&r[e])return r[e](n)},locationMouse:function(){return{x:this.World.mouseX,y:this.World.mouseY}},locationOf:function(e){var t=r.getSpriteArray(e)[0];if(t)return{x:t.x,y:t.y}},randomLocation:function(){return{x:Math.floor(361*Math.random())+20,y:Math.floor(361*Math.random())+20}}};t.commands=o},3616:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var r={countByAnimation:function(e){return c.getSpriteArray(e).length},destroy:function(e){c.getSpriteArray(e).forEach(function(e){e.destroy(),c.removeAllBehaviors(e),c.deleteSprite(e.id)})},displace:function(e,t){var n=c.getSpriteArray(e),r=c.getSpriteArray(t);n.forEach(function(t){r.forEach(function(e){return t.displace(e)})})},getProp:function(e,t){var n=c.getSpriteArray(e)[0];if(void 0!==n)return"scale"===t?100*n.getScale():"costume"===t?n.getAnimationLabel():"y"===t?400-n.y:n[t]},getThisSprite:function(e,t){if(t){if("this"===e){if(void 0!==t.clickedSprite)return{id:t.clickedSprite};if(void 0!==t.subjectSprite)return{id:t.subjectSprite}}if("other"===e)return{id:t.objectSprite}}},makeSprite:function(e){var t=(e=e||{}).name,n=e.location,r=e.animation;n||(n={x:200,y:200}),"function"==typeof n&&(n=n());var o=this.createSprite(n.x,n.y);o.direction=0,o.baseScale=1,o.setScale=function(e){o.scale=e*o.baseScale},o.getScale=function(){return o.scale/o.baseScale};var i=c.addSprite(o,t);return r&&(o.setAnimation(r),o.scale/=o.baseScale,o.baseScale=100/Math.max(100,o.animation.getHeight(),o.animation.getWidth()),o.scale*=o.baseScale),i},setAnimation:function(e,t){c.getSpriteArray(e).forEach(function(e){e.setAnimation(t),e.scale/=e.baseScale,e.baseScale=100/Math.max(100,e.animation.getHeight(),e.animation.getWidth()),e.scale*=e.baseScale})}};t.commands=r},3617:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562)),o=n(26),i=n(1559),c=n(1561);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var l={comment:function(e){},getTime:function(e){return"seconds"===e?this.World.seconds||0:"frames"===e&&this.World.frameCount||0},hideTitleScreen:function(){r.title=r.subtitle=""},printText:function(e){(0,o.getStore)().dispatch((0,i.addConsoleMessage)({text:e}))},setBackground:function(e){r.background=e},setBackgroundImage:function(e){if(this._preloadedBackgrounds&&this._preloadedBackgrounds[e]){var t=this._preloadedBackgrounds[e];r.background=t}},setQuestion:function(e,t,n){r.registerQuestion(e,t,n),(0,o.getStore)().dispatch((0,c.addQuestion)(e,t))},showTitleScreen:function(e,t){r.title=e||"",r.subtitle=t||""}};t.commands=l},3618:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1562));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var o={getAnimationsInUse:function(){return r.getAnimationsInUse()},getBackground:function(){return"string"==typeof r.background?r.background:r.background.name},getNumBehaviorsForAnimation:function(e){return r.getNumBehaviorsForAnimation(e)},getNumBehaviorsForSpriteId:function(e){return r.getNumBehaviorsForSpriteId(e)},getBehaviorsForSpriteId:function(e){return r.getBehaviorsForSpriteId(e)},getSpriteIdsInUse:function(){return r.getSpriteIdsInUse()}};t.commands=o},9:function(e,t){e.exports=$}},[[3608,0,1,2,6,3]]]);
